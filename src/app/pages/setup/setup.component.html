<!-- Card Section -->
<div class="max-w-4xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
  <!-- Card -->
  <div class="bg-white rounded-xl shadow p-4 sm:p-7">
    <form>
      <!-- Section -->
      <div class="grid sm:grid-cols-12 gap-2 sm:gap-4 py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-gray-200">
        <div class="sm:col-span-12">
          <h2 class="text-lg font-semibold text-gray-800">
            Submit your personal information
          </h2>
        </div>
        <!-- End Col -->

        <div class="sm:col-span-3">
          <label for="af-submit-application-first-name" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Full name
          </label>
        </div>
        <!-- End Col -->

        <div class="sm:col-span-9">
          <div class="sm:flex">
            <input id="af-submit-application-first-name"
                   type="text"
                   class="py-2 px-3 pe-11 block w-full border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none border-1"
                   placeholder="First name"
                   [formControl]="firstName">

            <input type="text"
                   class="py-2 px-3 pe-11 block w-full border-gray-200 shadow-sm -mt-px -ms-px first:rounded-t-lg last:rounded-b-lg sm:first:rounded-s-lg sm:mt-0 sm:first:ms-0 sm:first:rounded-se-none sm:last:rounded-es-none sm:last:rounded-e-lg text-sm relative focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none border-1"
                   placeholder="Last name"
                   id="af-submit-application-last-name"
                   [formControl]="lastName">
          </div>
          @if((firstName.invalid && (!firstName.untouched)) || (lastName.invalid && (!lastName.untouched))) {
            <p class="text-sm text-red-600 mt-2" id="hs-validation-name-error-helper">Please give us your complete full name</p>
          }
        </div>
        <!-- End Col -->
      </div>
      <!-- End Section -->

      <!-- Section -->
      <div class="grid sm:grid-cols-12 gap-2 sm:gap-4 py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-gray-200">
        <div class="sm:col-span-12">
          <h2 class="text-lg font-semibold text-gray-800">
            Budget
          </h2>
        </div>
        <!-- End Col -->

        <!-- End Col -->
        <div class="sm:col-span-3">
          <label for="form-choose-period-type" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Choose your budget's period type
          </label>
        </div>

        <div class="sm:col-span-9">
          <!-- Select -->
          <select data-hs-select='{
              "placeholder": "Select option...",
              "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
              "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-primary-400",
              "dropdownClasses": "mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300",
              "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50",
              "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-blue-600 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>",
              "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>"
            }' class="hidden"
                  name="form-choose-period-type"
                  id="form-choose-period-type"
                  [formControl]="length">
            @for (period of periodLengths; track period.value){
              <option [value]="period.value">{{ period.name }}</option>
            }
          </select>
          <!-- End Select -->
        </div>
        <!-- End Col -->
        @if(isCustomPeriodChecked()) {
          <div class="sm:col-span-3">
            <label for="form-choose-length-type" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
              Enter the number of days for your custom period
            </label>
          </div>

          <div class="sm:col-span-9">
            <input type="number"
                    id="form-choose-length-type"
                    class="py-3 px-4 block w-full border-1 border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none"
                    [formControl]="dayLength">
            @if((isCustomPeriodChecked() && dayLength.value == null) && (!dayLength.untouched)) {
              <p class="text-sm text-red-600 mt-2" id="hs-validation-day-num-error-helper">Please set your custom period day length</p>
            }
          </div>
        }

        <div class="sm:col-span-3">
          <label for="form-choose-start-type" class="inline-block text-sm font-medium text-gray-500 mt-2.5">
            Choose when your budget starts
          </label>
        </div>

        <div class="sm:col-span-9">
          <input type="date"
                  id="form-choose-start-type"
                  class="py-3 px-4 block w-full border-1 border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none"
                  [formControl]="startDate">
          @if(startDate.invalid && (!startDate.untouched)) {
            <p class="text-sm text-red-600 mt-2" id="hs-validation-start-error-helper">Please set your start date</p>
          }
        </div>

      </div>
      <!-- End Section -->

      <!-- Section -->
      <div class="py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-gray-200">
        <h2 class="text-lg font-semibold text-gray-800">
          Set up your account information
        </h2>
        <p class="mt-3 text-sm text-gray-600">
          Based on your selected settings, your budget period will start on {{ startDate.value }} and last for {{ getDaysToAddToHint() }} days.
        </p>
      </div>
      <!-- End Section -->

      <button type="button"
              class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-primary-300
                text-white hover:bg-primary-400 focus:outline-none focus:bg-primary-400 disabled:opacity-50 disabled:pointer-events-none"
              (click)="setupUser()">
        Set up your account
      </button>
    </form>
  </div>
  <!-- End Card -->
</div>
<!-- End Card Section -->
